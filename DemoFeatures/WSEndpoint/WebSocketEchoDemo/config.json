{
  "featureName": "websocket-echo-demo",
  "afterFeatures": [],

  "endpoints": [
    {
      "name": "ws",
      "type": "websocket",
      "port": 9966,
      "startChain": "wsEchoChain",
      "maxContentLength": 4098,
      "stackDepth": 5,
      "path": "/ws"
    }
  ],

  "objects": [
    {
      "name": "ws_sender",
      "dependency": "websocket message sender",
      "kind": "stateless_actor"
    }
  ],

  "maps": [
    {
      "id": "wsEchoChain",
      "externalAccess": true,
      "exceptional": [],
      "steps": [
        {
          "target": "ws_sender",
          "handler": "send",
          "wrapper": {
            "in_getConnectionId": "context/wsConnectionId",
            "in_getMessage": "message"
          }
        }
      ]
    }
  ]
}
