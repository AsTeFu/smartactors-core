{
  "get_password_restore_form_map": [
    {
      "actor": "createSessionActor",
      "handler": "getSession",
      "wrapper": {}
    },
    {
      "actor": "authenticationActor",
      "handler": "authenticateSession",
      "wrapper": {
        "getRequestUserAgent": {
          "type": "in",
          "source": "context",
          "rules": [
            {
              "name": "getHeaderFromRequest",
              "args": [
                "User-Agent"
              ]
            }
          ]
        },
        "getSessionUserAgent": {
          "type": "in",
          "source": "message.session.authInfo.userAgent"
        }
      }
    },
    {
      "actor" : "checkUserByEmailActor",
      "handler" : "checkUser",
      "wrapper" : {
        "getEmail" : {
          "type" : "in",
          "source" : "message.email"
        },
        "setUser" : {
          "type" : "out",
          "source" : "message.user"
        }
      }
    },
    {
      "actor": "asyncOpsActor",
      "handler": "createOperation",
      "wrapper": {
        "getIObject": {
          "type": "in",
          "source": "message"
        }
      }
    },
    {
      "actor" : "generateMailActor",
      "handler" : "generate",
      "wrapper" : {
        "getToken" : {
          "type" : "in",
          "source" : "message.token"
        },
        "setLink" : {
          "type" : "out",
          "source" : "message.link"
        }
      }
    },
    {
      "actor" : "sendEmailActor",
      "handler" : "send",
      "wrapper" : {
      }
    }
  ]
}